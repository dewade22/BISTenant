@model Manufacturing.Models.Hpp.ModelMasterVM
@{
    ViewData["Title"] = "List Pra Mixing";
    Layout = "~/Views/Shared/Material/_Layouts.cshtml";
}

@section Styles{
    <link rel="stylesheet" href="~/sources/vendors/bootgrid/jquery.bootgrid.min.css" />
}

<section id="content">
    <div class="container">
        <div class="c-header">
            <h2 class="text-capitalize">@ViewData["Title"]</h2>
        </div>
        <div class="card">
            <div class="card-header">
                <h2 class="card-title"><button type="button" class="btn btn-primary" onclick="AddPraMixing()">Add New</button></h2>
            </div>
            <div class="card-body card-padding">
                <div class="row">
                    <div class="table-responsive">
                        <table id="bootgrid" class="table table-condensed table-hover table-striped">
                            <thead>
                                <tr>
                                    <th data-column-id="HeaderId" data-visible="false">Header Id</th>
                                    <th data-column-id="Description">Description</th>
                                    <th data-column-id="Item-Output">Item Output</th>
                                    <th data-column-id="CreatedAt">Date Created</th>
                                    <th data-column-id="action" data-formatter="action">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach(var item in Model.ListWipHeader)
                                 {
                                    <tr>
                                        <td>@item.ModelHeaderId</td>
                                        <td>@item.Description</td>
                                        <td>@item.ItemOutputName</td>
                                        <td>@item.CreatedAt</td>
                                    </tr>
                                 }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts{
    <script type="text/javascript" src="~/sources/vendors/bootgrid/jquery.bootgrid.updated.min.js"></script>
    <script type="text/javascript">
        let baseUrl = localStorage.getItem('thisAddress')
        $(function () {
            $('#bootgrid').bootgrid({
                caseSensitive: false,
                formatters: {
                    "action": function (column, row) {
                        return `<button type="button" class="btn btn-success waves-effect" onclick="Update('${row.HeaderId}')"><i class="zmdi zmdi-edit"></i></button>`
                    }
                }
            })
        })
        function AddPraMixing() {
            window.location = 'PraMixing'
        }
        function Update(Id) {
            window.location ='PraMixings?Header='+Id
        }
    </script>
}